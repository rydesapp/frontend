{"ast":null,"code":"import { useRouter } from \"next/router\";\nimport { useEffect, useState } from \"react\";\nimport { login } from \"../../api/authentincation-api\";\n\nconst useLoginForm = () => {\n  const router = useRouter();\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useEffect(() => {\n    router.prefetch(\"/admin/dashboard\");\n  }, []);\n\n  const handleLogin = () => {\n    setLoading(true);\n    login({\n      email,\n      password\n    }).then(() => {\n      router.push(\"/admin/dashboard\");\n    }).catch(err => {\n      setError(err.toString());\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n\n  const onEmailChange = event => {\n    setEmail(event.target.value);\n  };\n\n  const onPasswordChange = event => {\n    setPassword(event.target.value);\n  };\n\n  return {\n    actions: {\n      handleLogin,\n      onEmailChange,\n      onPasswordChange\n    },\n    state: {\n      email,\n      password,\n      error,\n      loading\n    }\n  };\n};\n\nexport default useLoginForm;","map":null,"metadata":{},"sourceType":"module"}